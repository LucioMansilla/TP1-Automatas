cmake_minimum_required(VERSION 3.10)

project(automatasTP)
set(CMAKE_C_STANDARD 99)
set(TESTS_DIR ${automatasTP_SOURCE_DIR}/tests)


add_executable(automata ${automatasTP_SOURCE_DIR}/src/main.c Automata.c LinkedList.c)
target_include_directories(automata PUBLIC ${automatasTP_SOURCE_DIR})
set_target_properties(automata PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${automatasTP_SOURCE_DIR})

add_executable(build ${TESTS_DIR}/test_automata.c Automata.c LinkedList.c)
target_include_directories(build PUBLIC ${automatasTP_SOURCE_DIR})
set_target_properties(build PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${TESTS_DIR})

add_executable(testAFNDtoAFD ${TESTS_DIR}/test_afnd_to_afd.c Automata.c LinkedList.c)
target_include_directories(testAFNDtoAFD PUBLIC ${automatasTP_SOURCE_DIR})
set_target_properties(testAFNDtoAFD PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${TESTS_DIR})

add_executable(testPertains ${TESTS_DIR}/test_pertains.c Automata.c LinkedList.c)
target_include_directories(testPertains PUBLIC ${automatasTP_SOURCE_DIR})
set_target_properties(testPertains PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${TESTS_DIR})

add_executable(testBuildFromDot ${TESTS_DIR}/test_build_from_dot.c Automata.c LinkedList.c)
target_include_directories(testBuildFromDot PUBLIC ${automatasTP_SOURCE_DIR})
set_target_properties(testBuildFromDot PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${TESTS_DIR})

add_executable(testWriteToDot ${TESTS_DIR}/test_write_to_dot.c Automata.c LinkedList.c)
target_include_directories(testWriteToDot PUBLIC ${automatasTP_SOURCE_DIR})
set_target_properties(testWriteToDot PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${TESTS_DIR})
